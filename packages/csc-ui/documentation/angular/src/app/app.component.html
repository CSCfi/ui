<c-main [class]="currentTheme">
  <c-toolbar>
    <c-csc-logo></c-csc-logo>
    CSC Design System
    <c-spacer></c-spacer>

    <c-row align="center" gap="4">
      <c-icon-button
        *ngFor="let theme of themes"
        size="small"
        [style]="theme.styles"
        [text]="currentTheme !== theme.name"
        (click)="currentTheme = theme.name"
      >
        <c-icon [path]="icons.mdiWater"></c-icon>
      </c-icon-button>
    </c-row>

    <c-tag
      [ariaLabel]="'Version ' + versionService.versionLabel"
      [active]="true"
      *ngIf="!(isMobile$ | async)"
      flat
    >
      v {{ versionService.version }}
    </c-tag>
    <c-navigation-button *ngIf="isMobile$ | async"></c-navigation-button>
  </c-toolbar>

  <c-row class="no-margin no-wrap">
    <c-side-navigation
      class="autoheight"
      *ngIf="components.length"
      [mobile]="isMobile$ | async"
      [multiple]="false"
    >
      <c-side-navigation-item [routerLink]="['']" [active]="url === '/'">
        <div slot="main" class="text-capitalize d-flex align-items-center">
          <c-icon [path]="icons.mdiInformationOutline" size="16"></c-icon>
          About
        </div>
      </c-side-navigation-item>

      <c-side-navigation-item
        [active]="active === 'getting-started' || url?.startsWith('/getting-started')"
      >
        <div slot="main" class="text-capitalize">Getting Started</div>

        <div slot="subnavitem">
          <c-sub-navigation-item
            class="text-capitalize"
            [routerLink]="['getting-started/angular']"
            routerLinkActive="active"
            (keyup.enter)="navigate($event, 'getting-started/angular')"
          >
            <c-icon [path]="icons.mdiAngular" size="20" class="me-2"></c-icon>
            Angular
          </c-sub-navigation-item>
        </div>
        <div slot="subnavitem">
          <c-sub-navigation-item
            class="text-capitalize"
            [routerLink]="['getting-started/html']"
            routerLinkActive="active"
            (keyup.enter)="navigate($event, 'getting-started/html')"
          >
            <c-icon [path]="icons.mdiLanguageHtml5" size="20" class="me-2"></c-icon>
            HTML Page
          </c-sub-navigation-item>
        </div>

        <div slot="subnavitem">
          <c-sub-navigation-item
            class="text-capitalize"
            [routerLink]="['getting-started/vue']"
            routerLinkActive="active"
            (keyup.enter)="navigate($event, 'getting-started/vue')"
          >
            <c-icon [path]="icons.mdiVuejs" size="20" class="me-2"></c-icon>
            Vue 3
          </c-sub-navigation-item>
        </div>

        <div slot="subnavitem">
          <c-sub-navigation-item
            class="text-capitalize"
            [routerLink]="['getting-started/vue-2']"
            routerLinkActive="active"
            (keyup.enter)="navigate($event, 'getting-started/vue-2')"
          >
            <c-icon [path]="icons.mdiVuejs" size="20" class="me-2"></c-icon>
            Vue 2
          </c-sub-navigation-item>
        </div>
      </c-side-navigation-item>

      <c-side-navigation-item [active]="active === 'templates' || url?.startsWith('/templates')">
        <div slot="main" class="text-capitalize">Templates</div>

        <div slot="subnavitem">
          <c-sub-navigation-item
            [routerLink]="['templates/basic-template']"
            routerLinkActive="active"
            class="text-capitalize"
            (keyup.enter)="navigate($event, 'templates/basic-template')"
          >
            Basic template
          </c-sub-navigation-item>
        </div>
      </c-side-navigation-item>

      <c-side-navigation-item [routerLink]="['/migration-guide']" [active]="url === '/migration-guide'">
        <div slot="main" class="text-capitalize d-flex align-items-center">
          <c-icon [path]="icons.mdiAlertDecagram" size="16"></c-icon>
          Migration guide
        </div>
      </c-side-navigation-item>

      <c-side-navigation-title>Components</c-side-navigation-title>

      <c-text-field
        placeholder="Search for a component"
        style="margin-right: 24px"
        hide-details
        shadow
        cControl
        (input)="filterComponents($event)"
      >
        <c-icon [path]="icons.mdiMagnify" slot="pre" size="16"></c-icon>
      </c-text-field>

      <c-side-navigation-item
        *ngFor="let group of groupedComponents | menuGroups"
        [active]="group.visible"
      >
        <div slot="main" class="text-capitalize">
          {{ group.name }}
        </div>
        <div slot="subnavitem">
          <c-sub-navigation-item
            *ngFor="let item of group.components"
            class="text-capitalize"
            [routerLink]="['/' + item.tag]"
            routerLinkActive="active"
            [active]="activeComponent?.tag === item?.tag"
            (keyup.enter)="navigate($event, item.tag)"
          >
            {{ item.name }}
          </c-sub-navigation-item>
        </div>
      </c-side-navigation-item>

      <c-side-navigation-item
        *ngFor="let item of (groupedComponents | menuGroups : false)[0]?.components"
        class="text-capitalize"
        [routerLink]="['/' + item.tag]"
        routerLinkActive="active"
        [active]="activeComponent?.tag === item?.tag"
        (keyup.enter)="navigate($event, item.tag)"
      >
        <div slot="main" class="text-capitalize">{{ item.name }}</div>
      </c-side-navigation-item>

      <c-side-navigation-title>Miscellaneous</c-side-navigation-title>

      <c-side-navigation-item [routerLink]="['types']" [active]="url?.startsWith('/types')">
        <div slot="main" class="text-capitalize d-flex align-items-center">
          <c-icon [path]="icons.mdiLanguageTypescript" class="me-2" size="16"></c-icon>
          Types
        </div>
      </c-side-navigation-item>
    </c-side-navigation>
    <c-flex class="container-height">
      <c-container>
        <router-outlet></router-outlet>
      </c-container>
    </c-flex>
  </c-row>
</c-main>
